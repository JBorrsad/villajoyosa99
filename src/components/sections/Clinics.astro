---
import { CONTACT_INFO, CLINIC_INFO } from '../../utils/constants';
import { asset } from '../../utils/assets';

const clinica = CONTACT_INFO.clinica;
---

<section class="clinics section" id="clinica">
	<div class="container">
		<!-- Título separado arriba -->
		<h2 class="clinics-title">Espacios pensados para ti</h2>
		
		<div class="clinics-content">
			<!-- Imagen a la izquierda -->
			<div class="clinics-image">
				<img 
					src={asset('img/instalaciones/fachada.jpg')}
					alt="Clínica Dental Villajoyosa 99"
					width="600"
					height="400"
					loading="lazy"
					decoding="async"
					style="aspect-ratio: 3/2;"
				/>
			</div>
			
			<!-- Texto a la derecha -->
			<div class="clinics-text">
				<p class="section-subtitle">Con más de 25 años de experiencia y un equipo en formación continua, trabajamos con tecnología de última generación y técnicas actuales en unas instalaciones cuidadas, pensadas para que te sientas en buenas manos y vivas una experiencia cómoda y sencilla, como en casa.</p>
				
				<!-- Botón debajo del texto -->
				<div class="clinics-cta">
					<a href={`${import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/'}instalaciones`} class="btn btn-primary">Descubre nuestra clínica</a>
				</div>
			</div>
		</div>
		
		<!-- Información de contacto de la clínica -->
		<div class="clinics-info-grid clinics-info-single">
			<!-- Clínica Madrid -->
			<div class="clinic-contact-info">
				<h3 class="clinic-name">Madrid - Villaverde</h3>
				
				<div class="contact-info">
					<div class="info-item">
						<div class="info-icon">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
								<circle cx="12" cy="10" r="3"></circle>
							</svg>
						</div>
						<div class="info-content">
							<p class="info-text">{clinica.address}</p>
							<p class="info-text">C.P. {clinica.postalCode} - {clinica.city}</p>
						</div>
					</div>
					
					<div class="info-item">
						<div class="info-icon">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
							</svg>
						</div>
						<div class="info-content">
							<p class="info-text num"><a href={`tel:+34${clinica.phone.replace(/\s/g, '')}`}>{clinica.phone}</a></p>
							<p class="info-text num"><a href={`tel:+34${clinica.mobile.replace(/\s/g, '')}`}>{clinica.mobile}</a></p>
						</div>
					</div>
					
					<div class="info-item">
						<div class="info-icon">
							<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
								<polyline points="22,6 12,13 2,6"></polyline>
							</svg>
						</div>
						<div class="info-content">
							<p class="info-text"><a href={`mailto:${clinica.email}`}>{clinica.email}</a></p>
						</div>
					</div>
				</div>
				
				<div class="map-container">
					<iframe 
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d115720.07241017012!2d-3.6978961946794597!3d40.344707051187235!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd42278b07014761%3A0xff1c8493e98a7081!2sClinica%20Dental%20Villajoyosa%2099!5e0!3m2!1ses!2ses!4v1770281003787!5m2!1ses!2ses"
						width="100%"
						height="300"
						style="border:0;"
						allowfullscreen=""
						loading="lazy"
						referrerpolicy="no-referrer-when-downgrade"
						title="Ubicación de Clínica Dental Villajoyosa 99 - Madrid"
					></iframe>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	.clinics {
		background: white;
		position: relative;
		z-index: 10;
	}
	
	.clinics .container {
		display: flex;
		flex-direction: column;
		align-items: center;
	}
	
	.clinics-title {
		font-size: 38px;
		color: var(--c-ink);
		font-family: var(--ff-head);
		font-weight: 700;
		line-height: 1.2;
		text-align: center;
		margin-bottom: 3rem;
		padding-bottom: 1rem;
		border-bottom: 3px solid var(--c-ink);
		display: inline-block;
		width: auto;
	}
	
	.clinics-content {
		display: grid;
		grid-template-columns: 1.2fr 1fr;
		gap: var(--spacing-lg);
		align-items: start;
		width: 100%;
	}
	
	.clinics-text {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-lg);
		margin-top: 2rem;
	}
	
	.section-subtitle {
		font-size: var(--fs-body);
		color: var(--c-gray-700);
		line-height: 1.6;
		margin: 0;
	}
	
	.clinics-image {
		overflow: hidden;
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
		justify-self: start;
		width: 100%;
		height: 300px;
	}
	
	.clinics-image img {
		width: 100%;
		height: 100%;
		display: block;
		object-fit: cover;
		object-position: center;
	}
	
	.clinics-cta {
		margin-top: 0;
	}
	
	.btn {
		padding: 1rem 2rem;
		border-radius: var(--border-radius);
		font-weight: 600;
		font-size: var(--font-size-base);
		transition: var(--transition);
		display: inline-block;
		text-align: center;
		text-decoration: none;
		border: none;
		cursor: pointer;
	}
	
	.btn-primary {
		background: var(--btn-primary-bg);
		color: var(--btn-primary-text);
		border: 2px solid var(--btn-primary-bg);
	}
	
	.btn-primary:hover {
		background: var(--btn-hover-bg);
		color: var(--btn-hover-text);
		border-color: var(--btn-secondary-border);
		transform: translateY(-2px);
		box-shadow: var(--shadow-md);
	}
	
	/* Estilos para la información de contacto de las clínicas */
	.clinics-info-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: var(--spacing-xl);
		margin-top: var(--spacing-xl);
		width: 100%;
	}
	
	.clinics-info-single {
		grid-template-columns: 1fr;
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}
	
	.clinic-contact-info {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}
	
	.clinic-name {
		font-size: 15px;
		color: var(--c-ink);
		font-weight: 700;
		font-family: var(--ff-body);
		text-transform: uppercase;
		letter-spacing: 0.5px;
		margin: 0;
		padding-bottom: 0.75rem;
		border-bottom: 3px solid var(--c-ink);
	}
	
	.contact-info {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}
	
	.info-item {
		display: flex;
		gap: 1rem;
		align-items: center;
	}
	
	.info-icon {
		width: 48px;
		height: 48px;
		background: var(--color-primary-light);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
	}
	
	.info-icon svg {
		color: var(--color-primary);
	}
	
	.info-content {
		flex: 1;
		display: flex;
		flex-direction: column;
		gap: 0.25rem;
	}
	
	.info-text {
		font-size: var(--fs-body);
		color: var(--c-gray-700);
		margin: 0;
		line-height: 1.5;
	}
	
	.info-text a {
		color: var(--c-primary);
		text-decoration: none;
		transition: color 0.3s ease;
	}
	
	.info-text a:hover {
		color: var(--color-primary-dark);
		text-decoration: underline;
	}
	
	.map-container {
		width: 100%;
		margin-top: 1rem;
	}
	
	.map-container iframe {
		display: block;
		border-radius: 8px;
	}

	@media (max-width: 768px) {
		.clinics-title {
			font-size: 32px;
			margin-bottom: 2rem;
		}
		
		.clinics-content {
			grid-template-columns: 1fr;
			gap: var(--spacing-lg);
		}
		
		.clinics-text {
			margin-top: 1rem;
		}
		
		.clinics-image {
			justify-self: center;
			height: 250px;
		}
		
		.clinics-info-grid {
			grid-template-columns: 1fr;
			gap: 7rem;
		}
	}
</style>
